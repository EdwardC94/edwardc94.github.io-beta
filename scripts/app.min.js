!function(){function b(a,b){return a.find(function(a){return a.url===b})}function h(){f.addClass("closed")}var a=angular.module("MyWebsite",["ngRoute","MyWebsiteCtrls","MyWebsiteServices"]);a.config(["$routeProvider",function(a){a.when("/home",{templateUrl:"partials/home.html"}).when("/about",{templateUrl:"partials/about.html"}).when("/projects",{templateUrl:"partials/projects.html"}).when("/blog",{templateUrl:"partials/blog.html",controller:"BlogCTRL",resolve:{data:["getEntries",function(a){return a.query().$promise}]}}).when("/blog/:cat/:post",{templateUrl:"partials/post.html",controller:"PostCTRL",resolve:{data:["getEntries",function(a){return a.query().$promise}]}}).when("/404",{templateUrl:"partials/404.html",controller:"404CTRL"}).otherwise("/about")}]);var e=$("[data-role='toggleClosed']"),f=$(".menu"),g=$("#main");f.on("mouseleave",function(){h()}),e.on("click",function(){var a=$(this).parent(".menu");a.hasClass("closed")?(h(),a.removeClass("closed")):a.addClass("closed")}),g.css("height",screen.height-150),angular.module("MyWebsiteCtrls",["ngRoute"]).controller("HomeCTRL",["$scope",function(a){}]).controller("BlogCTRL",["$scope","data",function(a,b){var c=b.reverse();a.posts={featured:c.slice(0,7),old:c.slice(7,void 0)}}]).controller("PostCTRL",["$scope","data","$location",function(a,c,d){var e=b(c,d.url());a.post=e?e:{postID:0,title:"Post does not exist",url:"/blog",image:{url:"images/blog/LIS0001-rockabye.jpg",source:"Wikipedia - Warner Bros. Music"},date:new Date(Date.now).toLocaleDateString(),tags:["foo","bar","largerTag","small"],category:"error"}}]).controller("404CTRL",["$scope",function(a){}]).controller("MenuCTRL",["$scope","$http","$location",function(a,b,c){function d(a){return c.url().startsWith(a)}a.show=d}]);angular.module("MyWebsiteServices",["ngResource"]).factory("getEntries",["$resource",function(a){return a("database/blog/posts.json")}])}();